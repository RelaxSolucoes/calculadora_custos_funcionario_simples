<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Calculadora de Custos de Funcion√°rio - Detalhada</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
  .container { background: white; padding: 20px; border-radius: 10px; max-width: 900px; margin: auto; }
  h1 { text-align: center; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { padding: 8px 12px; border: 1px solid #ddd; }
  th { background: #f0f0f0; }
  .total { font-weight: bold; background: #e8f4f8; }
</style>
</head>
<body>
<div class="container">
  <h1>üí∞ Calculadora de Custos CLT vs. Sem Registro</h1>
  <label>üíº Custo total dispon√≠vel (R$): <input type="number" id="custo" value="2800"></label>
  <button onclick="calcular()">Calcular</button>

  <div id="resultado"></div>
</div>

<script>
function calcular() {
  const custoTotal = parseFloat(document.getElementById('custo').value);

  // Encargos fixos (% do sal√°rio bruto)
  const encargosFixos = {
    'INSS Patronal (20%)': 0.20,
    'FGTS (8%)': 0.08,
    'RAT/SAT (2%)': 0.02,
    'Sal√°rio Educa√ß√£o (2,5%)': 0.025,
    'Sistema S (3,3%)': 0.033,
    'SEBRAE (0,6%)': 0.006,
    'INCRA (0,2%)': 0.002
  };

  // Provis√µes (% do sal√°rio bruto)
  const provisoes = {
    '13¬∫ Sal√°rio (8,33%)': 1/12,
    'F√©rias + 1/3 (11,11%)': 1/9,
    'FGTS sobre 13¬∫/F√©rias (1,55%)': 0.0155,
    'Multa FGTS (4%)': 0.04,
    'Aviso Pr√©vio (2,7%)': 0.027
  };

  // Soma total de encargos e provis√µes
  const totalPercentual = Object.values(encargosFixos).reduce((a,b)=>a+b,0) + Object.values(provisoes).reduce((a,b)=>a+b,0);

  // Sal√°rio bruto resultante
  const salarioBruto = custoTotal / (1 + totalPercentual);

  let html = `<h2>üìã Resultado para custo total de R$ ${custoTotal.toFixed(2)}</h2>`;
  html += `<p>üíµ Sal√°rio bruto a registrar: <strong>R$ ${salarioBruto.toFixed(2)}</strong></p>`;

  html += `<h3>üìä Detalhamento</h3>`;
  html += `<table><tr><th>Item</th><th>%</th><th>Valor (R$)</th></tr>`;

  html += `<tr><th colspan="3">Encargos Fixos</th></tr>`;
  for (let [nome, perc] of Object.entries(encargosFixos)) {
    html += `<tr><td>${nome}</td><td>${(perc*100).toFixed(2)}%</td><td>${(salarioBruto*perc).toFixed(2)}</td></tr>`;
  }

  html += `<tr><th colspan="3">Provis√µes</th></tr>`;
  for (let [nome, perc] of Object.entries(provisoes)) {
    html += `<tr><td>${nome}</td><td>${(perc*100).toFixed(2)}%</td><td>${(salarioBruto*perc).toFixed(2)}</td></tr>`;
  }

  html += `<tr class="total"><td>Total Encargos + Provis√µes</td><td>${(totalPercentual*100).toFixed(2)}%</td><td>${(salarioBruto*totalPercentual).toFixed(2)}</td></tr>`;
  html += `<tr class="total"><td>Custo Total</td><td>100%</td><td>${custoTotal.toFixed(2)}</td></tr>`;
  html += `</table>`;

  // Comparativo simples com sem registro
  const liquidoSemRegistro = custoTotal; // sem IR para simplificar
  const liquidoCLT = salarioBruto; // sem descontos de empregado

  html += `<h3>‚öñÔ∏è Comparativo Simplificado</h3>`;
  html += `<p>Sem Registro (l√≠quido): R$ ${liquidoSemRegistro.toFixed(2)}<br>`;
  html += `CLT (bruto antes de descontos do empregado): R$ ${liquidoCLT.toFixed(2)}</p>`;

  document.getElementById('resultado').innerHTML = html;
}
</script>
</body>
</html>
